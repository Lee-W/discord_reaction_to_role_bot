{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#discord-reaction-to-role-bot","title":"Discord reaction to role bot","text":"<p>Discord bot for editing members' roles based on their reactions to a given message</p>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Python</li> </ul>"},{"location":"#configuration","title":"Configuration","text":"<p>This bot takes configuration from either environment variable \"CONFIG_JSON\" of configuration file \"config.json\".</p> <ul> <li>from the environment variable</li> </ul> <pre><code>export CONFIG_JSON='\n{\n    \"discord_token\": \"&lt;Your token&gt;\",\n    \"server_name\": \"&lt;Your server name&gt;\",\n    \"channel_id\": 123,\n    \"add_role_message_id\": 456,\n    \"remove_role_message_id\": 789,\n    \"emoji_to_role_id\": {\n        \"\ud83d\udcaf\": 321,\n        \"\ud83d\udc4d\": 654\n    }\n}\n'\n</code></pre> <ul> <li>from \"config.json\"</li> </ul> <pre><code>{\n    \"discord_token\": \"&lt;Your token&gt;\",\n    \"server_name\": \"&lt;Your server name&gt;\",\n    \"channel_id\": 123,\n    \"add_role_message_id\": 456,\n    \"remove_role_message_id\": 789,\n    \"emoji_to_role_id\": {\n        \"\ud83d\udcaf\": 321,\n        \"\ud83d\udc4d\": 654\n    }\n}\n</code></pre>"},{"location":"#columns","title":"Columns","text":"<ul> <li>discord_token: discord token for the bot<ul> <li>type: string</li> </ul> </li> <li>server_name: discord server name. If not given, we'll use the first server found.<ul> <li>type: string (optional)</li> </ul> </li> <li>channel_id: discord channel id<ul> <li>type: integer</li> </ul> </li> <li>add_role_message_id: the id of the message that the members react to for retrieving new roles. if not given, then we'll not add roles to members<ul> <li>type: integer (optional)</li> </ul> </li> <li>remove_role_message_id: the id of the message that the members react to for removing their existing roles. if not given, then we'll not remove roles from members<ul> <li>type: integer (optional)</li> </ul> </li> <li>emoji_to_role_id<ul> <li>type: dict[str, int]</li> </ul> </li> </ul>"},{"location":"#usage","title":"Usage","text":"<pre><code>pipenv install\npipenv run python bot/bot.py\n</code></pre>"},{"location":"#contributing","title":"Contributing","text":"<p>See Contributing</p>"},{"location":"#authors","title":"Authors","text":"<p>Wei Lee weilee.rx@gmail.com</p> <p>Created from Lee-W/cookiecutter-python-template version 1.6.0</p>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#step-1-fork-this-repository-to-your-github","title":"Step 1. Fork this repository to your GitHub","text":""},{"location":"contributing/#step-2-clone-the-repository-from-your-github","title":"Step 2. Clone the repository from your GitHub","text":"<pre><code>git clone https://github.com/[YOUR GITHUB ACCOUNT]/bot.git\n</code></pre>"},{"location":"contributing/#step-3-add-this-repository-to-the-remote-in-your-local-repository","title":"Step 3. Add this repository to the remote in your local repository","text":"<pre><code>git remote add upstream \"discord_reaction_to_role_bot\"\n</code></pre> <p>You can pull the latest code in main branch through <code>git pull upstream main</code> afterward.</p>"},{"location":"contributing/#step-4-check-out-a-branch-for-your-new-feature","title":"Step 4. Check out a branch for your new feature","text":"<pre><code>git checkout -b [YOUR FEATURE]\n</code></pre>"},{"location":"contributing/#step-5-install-prerequisite","title":"Step 5. Install prerequisite","text":"<pre><code>python -m pip install pipx\npython -m pipx install pipenv invoke\npython -m pipx ensurepath\n</code></pre> <ul> <li>pipx: for python tool management</li> <li>pipenv: for dependency management</li> <li>invoke: for task management</li> </ul>"},{"location":"contributing/#step-6-create-your-local-python-virtual-environment-and-install-dependencies","title":"Step 6. Create your local Python virtual environment and install dependencies","text":"<pre><code>inv env.init-dev\n</code></pre>"},{"location":"contributing/#step-7-work-on-your-new-feature","title":"Step 7. Work on your new feature","text":"<p>Note that this project follows conventional-commit and bumps version based on it. Use the following command to commit your changes.</p> <pre><code>inv git.commit\n</code></pre>"},{"location":"contributing/#step-8-run-test-cases","title":"Step 8. Run test cases","text":"<p>Make sure all test cases pass.</p> <pre><code>inv test\n</code></pre>"},{"location":"contributing/#step-9-run-test-coverage","title":"Step 9. Run test coverage","text":"<p>Check the test coverage and see where you can add test cases.</p> <pre><code>inv test.cov\n</code></pre>"},{"location":"contributing/#step-10-reformat-source-code","title":"Step 10. Reformat source code","text":"<p>Format your code through <code>black</code> and <code>isort</code>.</p> <pre><code>inv style.reformat\n</code></pre>"},{"location":"contributing/#step-11-run-style-check","title":"Step 11. Run style check","text":"<p>Make sure your coding style passes all enforced linters.</p> <pre><code>inv style\n</code></pre> <p>[Optional] Check your coding style through <code>pylint</code>. Note that you do not have to fix all the issues warned by <code>pylint</code>.</p> <pre><code>inv style.pylint\n</code></pre>"},{"location":"contributing/#step-12-run-security-check","title":"Step 12. Run security check","text":"<p>Ensure the packages installed are secure, and no server vulnerability is introduced</p> <pre><code>inv secure\n</code></pre>"},{"location":"contributing/#step-13-create-a-pull-request-and-celebrate","title":"Step 13. Create a Pull Request and celebrate \ud83c\udf89","text":""}]}